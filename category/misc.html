<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>Michaelyin's Blog - misc</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="http://blog.michaelyin.info/theme/css/bootstrap.min.css" type="text/css"/>
     <link rel="stylesheet" href="http://blog.michaelyin.info/theme/css/footer.css" type="text/css"/>
    <link href="http://blog.michaelyin.info/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://blog.michaelyin.info/theme/css/bootstrap-glyphicons.css" rel="stylesheet">
    <link href="http://blog.michaelyin.info/theme/css/pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="http://blog.michaelyin.info/theme/css/style.css" type="text/css"/>
    <!-- JavaScript plugins (requires jQuery) -->
    <script src="//code.jquery.com/jquery.min.js"></script>
    <script src="http://blog.michaelyin.info/theme/fancybox/jquery.fancybox.js"></script>
    <link href="http://blog.michaelyin.info/theme/fancybox/jquery.fancybox.css" rel="stylesheet">
    
    <link href="http://blog.michaelyin.info/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Michaelyin's Blog ATOM Feed"/>

</head>
<body>
    <nav class="navbar navbar-fixed-top navbar-inverse" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="http://blog.michaelyin.info" class="navbar-brand">Michaelyin's Blog</a>
            </div>
            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                   <li>
                    <a href="http://blog.michaelyin.info/archives.html">Archives</a>
                   </li>
                    <li>
                        <a href="http://blog.michaelyin.info/about.html">About</a>
                    </li>
                </ul>
                <form class="navbar-form navbar-right" role="search">
                    <div class="form-group">
                        <input type="text" id="txtSearch" class="form-control" placeholder="Search"/>
                    </div>
                </form>
            </div>
            <!-- /.navbar-collapse --> </div>
    </nav>
    <!-- /.navbar -->

    <!-- Wrap all page content here -->
    <div id="wrap">
        <!-- Begin page content -->
        <div class="container">
            <div class="row">
<div class="col-lg-9">
            <article>
                <h2><a href="http://blog.michaelyin.info/2014/03/02/how-to-debug-your-scrapy-spider/">How to debug your scrapy spider</a></h2>
                <div class="well well-sm"><div>
    <span class="published">
        <i class="icon-calendar"></i>
        02 Mar 2014
    </span>



<span class="published">
 </span>
</div><!-- /.post-info --></div>
                <div class="summary"><p>Tags; scrapy
Category: Python
Slug: scrapy</p>
<h3>Intro</h3>
<p>This post will talk about some useful tips in the development of scrapy spider which can help you write your spider quickly</p>
<h3>Extract infomation</h3>
<p>Some newbie developer think the expression supported by scrapy is difficult to learn, but the truth is, compared to ...</p>
                    <a href="http://blog.michaelyin.info/2014/03/02/how-to-debug-your-scrapy-spider/">
                        <span class="label label-primary tag-2">More...</span>
                    </a>
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="http://blog.michaelyin.info/2014/02/19/handle-autocomplete-using-selenium/">Handle autocomplete using selenium</a></h2>
                <div class="well well-sm"><div>
    <span class="published">
        <i class="icon-calendar"></i>
        19 Feb 2014
    </span>



<span class="published">
 </span>
</div><!-- /.post-info --></div>
                <div class="summary"><p>Tags; selenium
Category: Python
Slug: selenium</p>
<p>Selenium is a so great tool to make web ui test, in some cases, we have to make it work with some ajax autocomplete like jquery ui autocomplete.</p>
<p>First you need to understand how the autocomplete work. Most plugin will create a ul which ...</p>
                    <a href="http://blog.michaelyin.info/2014/02/19/handle-autocomplete-using-selenium/">
                        <span class="label label-primary tag-2">More...</span>
                    </a>
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="http://blog.michaelyin.info/2014/02/19/scrapy-socket-proxy/">Make Scrapy work with socket proxy</a></h2>
                <div class="well well-sm"><div>
    <span class="published">
        <i class="icon-calendar"></i>
        19 Feb 2014
    </span>



<span class="published">
 </span>
</div><!-- /.post-info --></div>
                <div class="summary"><p>Tags; scrapy,proxy
Category: Python
Slug: scrapy,proxy</p>
<h3>Working with http proxy</h3>
<p>When crawling infos from some website like google shop, it will detect the source ip and restrict some service to some specific ip address, howerver, scrapy framework can handle this situation by making the request through proxy.</p>
<p>The ...</p>
                    <a href="http://blog.michaelyin.info/2014/02/19/scrapy-socket-proxy/">
                        <span class="label label-primary tag-2">More...</span>
                    </a>
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="http://blog.michaelyin.info/2013/12/14/install-nodejs-on-ubuntu/">Install Nodejs on Ubuntu</a></h2>
                <div class="well well-sm"><div>
    <span class="published">
        <i class="icon-calendar"></i>
        14 Dec 2013
    </span>



<span class="published">
 </span>
</div><!-- /.post-info --></div>
                <div class="summary"><p>Tags; NodeJs
Category: Js
Slug: NodeJs</p>
<p>I just installed Nodejs on ubuntu through package manager <a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager">(more detail
)</a> and found there were some problems.</p>
<p>When using npm might get something like this</p>
<div class="highlight"><pre>npm ERR! Error: EACCES, symlink <span class="s1">&#39;../lib/node_modules/spm/bin/spm&#39;</span>
npm ERR!  <span class="o">{</span> <span class="o">[</span>Error: EACCES, symlink <span class="s1">&#39;../lib/node_modules/spm/bin ...</span></pre></div>
                    <a href="http://blog.michaelyin.info/2013/12/14/install-nodejs-on-ubuntu/">
                        <span class="label label-primary tag-2">More...</span>
                    </a>
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="http://blog.michaelyin.info/2013/12/10/make-python-module-editable/">Make python module editable</a></h2>
                <div class="well well-sm"><div>
    <span class="published">
        <i class="icon-calendar"></i>
        10 Dec 2013
    </span>



<span class="published">
 </span>
</div><!-- /.post-info --></div>
                <div class="summary"><p>Tags; pip
Category: Python
Slug: pip</p>
<h3>Intro</h3>
<p>There are so many python packages in the Python world, which provide rich functionality to help us make things done quickly, but sometime you may want to see the detail inside to learn or want to debug the package code to fix some ...</p>
                    <a href="http://blog.michaelyin.info/2013/12/10/make-python-module-editable/">
                        <span class="label label-primary tag-2">More...</span>
                    </a>
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="http://blog.michaelyin.info/2013/07/14/checkio-bullet-and-wall/">直线相交问题</a></h2>
                <div class="well well-sm"><div>
    <span class="published">
        <i class="icon-calendar"></i>
        14 Jul 2013
    </span>



<span class="published">
 </span>
</div><!-- /.post-info --></div>
                <div class="summary"><p>Tags; bullet-and-wall, checkio
Category: 算法相关
Slug: bullet-and-wall, checkio</p>
<p>最近在checkio上扫题的时候，碰到一个判断直线是否相交的问题，题目请<a href="http://www.checkio.org/mission/task/info/bullet-and-wall/python-3/">猛击这里</a>，这个题目以前上学的时候做到手软的好么，二话不说直接开写，先根据坐标上的两个点，算出斜率，然后得出直线表达式，最后根据两个直线表达式算出是否存在相交点，然后加上斜率为无穷大的情况等等，最后写出的代码如下。</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">checkio</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">xw1</span><span class="p">,</span> <span class="n">yw1</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">xw2</span><span class="p">,</span> <span class="n">yw2</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">xa</span><span class="p">,</span> <span class="n">ya</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">xb</span><span class="p">,</span> <span class="n">yb</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>

    <span class="k">if</span><span class="p">(</span><span class="n">xw1</span> <span class="o">-</span> <span class="n">xw2</span> <span class="o">==</span> <span class="mi">0</span>  <span class="ow">and</span> <span class="n">xb</span> <span class="o">-</span> <span class="n">xa</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
        <span class="c"># vertical vertical</span>
        <span class="k">return ...</span></pre></div>
                    <a href="http://blog.michaelyin.info/2013/07/14/checkio-bullet-and-wall/">
                        <span class="label label-primary tag-2">More...</span>
                    </a>
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="http://blog.michaelyin.info/2013/07/07/codekata-bloom-filter/">CodeKata-Bloom Filter</a></h2>
                <div class="well well-sm"><div>
    <span class="published">
        <i class="icon-calendar"></i>
        07 Jul 2013
    </span>



<span class="published">
 </span>
</div><!-- /.post-info --></div>
                <div class="summary"><p>Tags; Bloom Filter, CodeKata
Category: Python
Slug: Bloom Filter, CodeKata</p>
<p>Bloom
Filter在是一种在海量数据处理中很常用的算法，主要用来提供对集合数据的查询，其内在原理和bitmap十分类似。</p>
<h6></h6>
<h6></h6>
<h3>基本原理：</h3>
<p>如下图所示，长为m bit的byte数组，里面的bit位数值全部置0</p>
<p><a class="fancy" href="http://blog.michaelyin.info/images/2013/07/image3.png"><img alt="image" src="http://blog.michaelyin.info/images/2013/07/image_thumb3.png" title="image" /></a></p>
<p>现在需要将a这个值写入到byte数组里面去，使用k个不同的hash函数，对a进行hash值计算，并确保得到的hash值位于{1,m}这个区间之间。假设现在k个hash函数，那么得到的hash值一共有k个，即 <mathjax>$h_{1}(a)$</mathjax> ，在byte数组里面将这些值对应的bit位全部置为1，完成这一步，a的值就已经写入到byte数组里面去了。如果有多个值，重复该过程，如果写入过程中发现某bit位已经是1，可以不用管。</p>
<p><a href="http://blog.michaelyin.info/images/2013/07/image4.png"><img alt="image" src="http://blog.michaelyin.info/images/2013/07/image_thumb4.png" title="image" /></a></p>
<p>当我要查询数组里面是否包含值为b的时候，同样对b进行k个不同的hash计算，得到k个不同的hash值(注：写入和查询使用的k个hash函数是相同的)，针对这k个值在byte数组中进行查看，看对应的bit位是否置1，如果有一处是0，那就证明该元素不包含在byte数组中，如果全部是1，那就证明该元素可能包含在byte数组中 ...</p>
                    <a href="http://blog.michaelyin.info/2013/07/07/codekata-bloom-filter/">
                        <span class="label label-primary tag-2">More...</span>
                    </a>
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="http://blog.michaelyin.info/2013/07/07/floating-point/">Floating Point学习笔记</a></h2>
                <div class="well well-sm"><div>
    <span class="published">
        <i class="icon-calendar"></i>
        07 Jul 2013
    </span>



<span class="published">
 </span>
</div><!-- /.post-info --></div>
                <div class="summary"><p>Tags; float
Category: 思考心得
Slug: float</p>
<p>写代码的时候发现对Float的原理和使用方式没有一个系统的理解，找了资料学习后将知识点在这里进行整理</p>
<h3>Float存储原理：</h3>
<p>提到Float的存储方式首先必须提一下IEEE
754这个标准，该标准的出现主要解决了不同计算机之间浮点数表示方式和计算方式无法兼容的问题，现在的计算机内的浮点数的存储方式都是支持这个标准的。</p>
<p>一个浮点数主要由三部分组成：<mathjax>$$V = (-1)\^{s}\\times M\\times 2\^{E}$$</mathjax></p>
<p>s表示浮点数的正负</p>
<p>M表示小数部分</p>
<p>E是2的指数，用来表示2的乘方</p>
<p>如果将这三部分对应到存储的bit位上去，那么s对应一个bit位，用来表示浮点数的正负，k个bit位用来表示表示2的乘方，这k个bit位统一用exp来表示，n个bit位用来表示小数部分，统一用fra来表示</p>
<p><a href="http://blog.michaelyin.info/images/2013/07/image.png"><img alt="image" src="http://blog.michaelyin.info/images/2013/07/image_thumb.png" title="image" /></a></p>
<p>现在已经知道浮点数的存储位一共有三部分组成，而浮点数本身也被分成了三种类型，三种不同类型的存储方式都有其自身的特点</p>
<p>1：Normalized Values</p>
<p>这是最普通的情况，当exp部分的bit位不全为0和不全为1的时候，在这种情况下，exp部分的值E
= e-Bias，这里e是exp部分的无符号整形值，<mathjax>$$Bias = 2\^{k-1}-1$$</mathjax></p>
<p>frac表示小数部分的值 ...</p>
                    <a href="http://blog.michaelyin.info/2013/07/07/floating-point/">
                        <span class="label label-primary tag-2">More...</span>
                    </a>
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="http://blog.michaelyin.info/2013/06/30/split-array-2/">数组分割的一些错误解法</a></h2>
                <div class="well well-sm"><div>
    <span class="published">
        <i class="icon-calendar"></i>
        30 Jun 2013
    </span>



<span class="published">
 </span>
</div><!-- /.post-info --></div>
                <div class="summary"><p>Tags; 数组分割
Category: 思考心得
Slug: 数组分割</p>
<p>问题：有一个没有排序，元素个数为2N的正整数数组。要求把它分割为元素个数为N的两个数组，并使两个子数组的和最接近。</p>
<p>这个问题的正确解法<a href="http://blog.michaelyin.info/2013/06/30/%E6%95%B0%E7%BB%84%E5%88%86%E5%89%B2/">前面一篇博文</a>已经有写，这里主要是把错误的解法和原因进行一下分析。</p>
<h6>天平法：</h6>
<p>这种思路主要就是将2N数组进行排序，从大到小，然后从大到小进行排放，类似将砝码从大到小放到天平上，比如这篇博文<a href="http://sxnuwhui.blog.163.com/blog/static/13706837320126611925456/">猛击这里</a></p>
<p>点评：最后要的是两边差值最接近，和砝码本身的大小并无直接联系，这种解法很容易找到反例：</p>
<p>200 190 180 170 160 10</p>
<p>200 180 160 并不是最优解</p>
<h6>差值法：</h6>
<p>前面天平法的缺陷也给了我一点启示，如果是两个一组一起放到天平上的话，启示应该按照两个砝码的差值来进行拜访，排序不应该针对单个砝码，而应该针对砝码的差值</p>
<p>1：将砝码分成A,B两组</p>
<p>2：两组的砝码按照位置进行对应，比如A[0]和B ...</p>
                    <a href="http://blog.michaelyin.info/2013/06/30/split-array-2/">
                        <span class="label label-primary tag-2">More...</span>
                    </a>
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="http://blog.michaelyin.info/2013/06/30/split-array-1/">数组分割</a></h2>
                <div class="well well-sm"><div>
    <span class="published">
        <i class="icon-calendar"></i>
        30 Jun 2013
    </span>



<span class="published">
 </span>
</div><!-- /.post-info --></div>
                <div class="summary"><p>Tags; checkio, 动态规划, 数组分割
Category: 算法相关
Slug: checkio, 动态规划, 数组分割</p>
<p>最近在做Python
Challenge的时候无意中发现了checkio这个练习PY的地方，题目不难，正好可以在工作之余修炼下PY功力。。</p>
<p>loading-cargo这个题目的意思比较简单
，有一个无序、元素个数为2n的正整数数组，要求：如何能把这个数组分割为两个子数组，子数组的元素个数不限，并使两个子数组之和最接近</p>
<h4>1:Solve</h4>
<p>根据题目给出的Hint，可以使用暴力破解的方式穷举出所有可能的组合，并算出其和，使用PY提供的库可以很方便的做到，代码如下</p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">itertools</span>

<span class="k">def</span> <span class="nf">checkio</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">total</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">combinations ...</span></pre></div>
                    <a href="http://blog.michaelyin.info/2013/06/30/split-array-1/">
                        <span class="label label-primary tag-2">More...</span>
                    </a>
                </div>
            </article>
            <hr/>

        <ul class="pagination">
                <li class="prev disabled"><a href="#">&laquo;</a></li>
                <li class="active"><a
                        href="http://blog.michaelyin.info/category/misc.html">1</a></li>
                <li class=""><a
                        href="http://blog.michaelyin.info/category/misc2.html">2</a></li>
                <li class=""><a
                        href="http://blog.michaelyin.info/category/misc3.html">3</a></li>
                <li class=""><a
                        href="http://blog.michaelyin.info/category/misc4.html">4</a></li>
                <li class="next"><a
                        href="http://blog.michaelyin.info/category/misc2.html">&raquo;</a></li>
        </ul>
</div>
<div class="col-lg-3 well well-sm" id="sidebar"><aside>
    <section>
        <ul class="nav">
            <li class="list-group-item">
                <h4> <i class="icon-home icon-large"></i>
                    Social
                </h4>
            </li>

            <li>
                <a href="http://github.com/michael-yin">
                    <i class="icon-github-sign icon-1x"></i>
                    Github
                </a>
            </li>

            <li class="list-group-item">
                <h4> <i class="icon-home icon-large"></i>
                    Categories
                </h4>
            </li>
        
            <li>
                <a href="http://blog.michaelyin.info/category/algorithm.html">
                    <i class="icon-folder-open icon-large"></i>
                    Algorithm
                </a>
            </li>
            <li>
                <a href="http://blog.michaelyin.info/category/java.html">
                    <i class="icon-folder-open icon-large"></i>
                    Java
                </a>
            </li>
            <li>
                <a href="http://blog.michaelyin.info/category/misc.html">
                    <i class="icon-folder-open icon-large"></i>
                    misc
                </a>
            </li>
            <li>
                <a href="http://blog.michaelyin.info/category/net.html">
                    <i class="icon-folder-open icon-large"></i>
                    .Net
                </a>
            </li>
            <li>
                <a href="http://blog.michaelyin.info/category/si-kao-xin-de.html">
                    <i class="icon-folder-open icon-large"></i>
                    思考心得
                </a>
            </li>
            <li>
                <a href="http://blog.michaelyin.info/category/web.html">
                    <i class="icon-folder-open icon-large"></i>
                    Web
                </a>
            </li>
            <li>
                <a href="http://blog.michaelyin.info/category/wei-fen-lei.html">
                    <i class="icon-folder-open icon-large"></i>
                    未分类
                </a>
            </li>
        </ul>

        <ul class="list-group">
            <li class="list-group-item">
                <h4>
                    <i class="icon-tags icon-large"></i>
                    Tags
                </h4>
            </li>


            <li class="list-group-item">
            </li> 

        </ul>
    </section>
</aside></div>
            </div>
        </div>
    </div>

<div id="footer">
    <div class="container">
        <p class="text-muted">
            Copyright © 
            <a href="http://blog.michaelyin.info">Michaelyin's Blog</a>        &nbsp;&nbsp;|&nbsp;&nbsp;Powered By
            <a rel="external" title="Pelican" class="link" href="http://getpelican.com/">Pelican</a>
            &nbsp;&nbsp;|&nbsp;&nbsp;<a href="https://github.com/michael-yin/">Theme</a>
        </p>
    </div>
</div>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="http://blog.michaelyin.info/theme/js/bootstrap.min.js"></script>

    <!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
    <script src="http://blog.michaelyin.info/theme/js/respond.min.js"></script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
          inlineMath: [['$','$']],
          displayMath: [['$$','$$']] ,
          processEscapes: true
        },
        "HTML-CSS": { availableFonts: ["TeX"] }
      });
    </script>

    <script type="text/javascript"
       src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML">
    </script>

    <script>
    $().ready(function() {
        $("#txtSearch").keypress(function(event) {
             if (event.which == 13 && ($("#txtSearch").val().length > 0)) {
                event.preventDefault();
                var keywords = " " + $("#txtSearch").val();
                var url = encodeURIComponent(keywords);
                url = "https://www.google.com/search?q=site:http://blog.michaelyin.info" + url;
                window.location.href = url; 
        }});

        $(".entry-content a.fancy").fancybox({
            autoHeight: true,
            autoHeight: true
        });
    
    });
    </script>

    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'michael-yin'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
</body>
</html>